# Data

This project uses two types of data:

1) **Loan-level mortgage performance data** (main empirical pipeline)  
2) **Macro time series** (used by the TTC macro PD estimation step)

The folder follows a simple rule:
- **`data/raw/`** = original inputs (do not edit)
- **`data/processed/`** = pipeline outputs (safe to delete and regenerate)

---

## 1) Loan-level mortgage data (Freddie Mac â€” Standard Dataset)

**Source.** The loan-level data comes from the **Freddie Mac Single-Family Loan-Level Dataset (Standard)**.

**Official download page:**
```text
https://www.freddiemac.com/research/datasets/sf-loanlevel-dataset
````

**Coverage used in this project.**
We use the **quarterly Standard files from 2008Q1 to 2024Q4**.

**What each quarter contains.**
For each quarter `YYYYQn`, Freddie Mac provides two pipe-delimited text files:

* `historical_data_YYYYQn.txt` (Origination)
* `historical_data_time_YYYYQn.txt` (Monthly Performance)

**Dictionary.**
We keep the Freddie Mac data dictionary at:

* `data/raw/mortgage_data/freddiemac_single_family_data_dictionary.txt`

---

## 2) How the raw mortgage files are stored in this repo

Instead of keeping the original `.zip`, we store the *extracted* files, one folder per quarter:

```
data/raw/mortgage_data/
  freddiemac_single_family_data_dictionary.txt

  historical_data_2008Q1/
    historical_data_2008Q1.txt
    historical_data_time_2008Q1.txt

  historical_data_2008Q2/
    historical_data_2008Q2.txt
    historical_data_time_2008Q2.txt

  ...
  historical_data_2024Q4/
    historical_data_2024Q4.txt
    historical_data_time_2024Q4.txt
```

Notes:

* Files are **pipe-separated** (`|`).
* Do not rename these folders/files: the pipeline expects this naming convention.

---

## 3) Macro data (TTC macro PD)

Macro inputs used by TTC estimation are stored in:

* `data/raw/macro/`

This folder is read by the Makefile target:

* `make ttc_macro`

---

## 4) Processed data (generated by the pipeline)

All intermediate and final datasets produced by the main pipeline are written to:

* `data/processed/`

Typical subfolders (created by Makefile block A):

* `data/processed/default_labels/`
* `data/processed/imputed/`
* `data/processed/binned/`
* `data/processed/scored/`

You can safely delete and regenerate everything in `data/processed/`:

```bash
make clean_all
make pipeline
```

---

## 5) Reproducibility rules

* Never manually edit files in `data/raw/`.
* Everything under `data/processed/` must be reproducible from raw inputs + code + Makefile parameters.
* If you need scratch files, create a separate folder (e.g., `data/interim/`) and document it.
